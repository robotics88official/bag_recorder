<launch>
    <arg name="configuration_directory" default="$(find-pkg-share bag_recorder)/config"/>
    <arg name="data_directory" default="/home/parallels/data/"/>
    <arg name="name_topic" default="/record/bag_name"/>
    <arg name="heartbeat_interval" default="5.0"/>

    <!-- Launch recorder node -->
    <node pkg="bag_recorder" exec="bag_recorder_node" output="screen" respawn="true">
        <!-- Directory containing configuration files for the bag launcher to read -->
        <param name="configuration_directory"   value="$(var configuration_directory)"/>
        <!-- Directory for the bags to be recorded to -->
        <param name="data_directory"            value="$(var data_directory)"/>
        <!-- Topic for bag launcher to listen to for launching bags -->
        <param name="start_bag_topic"           value="/record/start"/>
        <!-- Topic for bag launcher to listen to for stopping bags -->
        <param name="stop_bag_topic"            value="/record/stop"/>
        <!-- Boolean whether or not the bag name is published to a topic -->
        <param name="publish_name"              value="true"/>
        <!-- Topic to publish bag name to if publish_name is true -->
        <param name="name_topic"                value="$(var name_topic)"/>
        <!-- Boolean whether or not a heartbeat is published for each bag -->
        <param name="publish_heartbeat"         value="true"/>
        <!-- Topic to publish heartbeat to -->
        <param name="heartbeat_topic"           value="/record/heartbeat"/>
        <!-- Interval in seconds on which to publish bag heartbeats -->
        <param name="heartbeat_interval"        value="$(var heartbeat_interval)"/>
        <!-- Whether or not to default to recording all topics if a config file is not found -->
        <param name="default_record_all"        value="false"/>
    </node>

</launch>
